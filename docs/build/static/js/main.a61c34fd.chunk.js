(this["webpackJsonpreact-windows-dashboard"]=this["webpackJsonpreact-windows-dashboard"]||[]).push([[0],{108:function(e,t,n){},139:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(0),s=n.n(o),r=n(6),a=n.n(r),c=(n(108),n(43)),d=n(7),l=n(12),j=n(15),h=n(17),u=n(16),p=n(23),b=n(42),O=n.n(b),m=n(92),x=(n(139),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var i;Object(l.a)(this,n),(i=t.call(this,e)).state={full:!1},i.onResizeStart=i.onResizeStart.bind(Object(p.a)(i)),i.toggle=i.toggle.bind(Object(p.a)(i)),i.onStart=i.onStart.bind(Object(p.a)(i));var o=i.props.data;i.options=void 0===o.options?{}:o.options,i.resizable=!1!==i.options.resizable,i.size=void 0!==i.options.size?i.options.size:null,i.minSize=void 0!==i.options.minSize?i.options.minSize:null!==i.size?i.size:[300,300];return i.sizableOptions={width:i.minSize[0],height:i.minSize[1],minConstraints:i.minSize,onResizeStart:i.onResizeStart,resizeHandles:!1===i.resizable?[]:void 0!==i.options.direction?i.options.direction:["se"],style:Object(d.a)({position:"absolute"},function(){var e=function(e){return void 0===o[e]?"100px":"function"===typeof o[e]?o[e]():o[e]};if("function"===typeof o.position)return o.position();if(!0===o.center){var t=document.querySelector(".windows"),n=(null===i.size?i.minSize:i.size,function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(!0===e?t.offsetWidth:t.offsetHeight)/2-i.size[!0===e?0:1]/2;return(n<0?0:n)+"px"});return{left:n(),top:n(!1)}}return{left:e("left"),top:e("top")}}())},!1===i.resizable&&(i.sizableOptions.maxConstraints=i.sizableOptions.minConstraints),null!==i.size&&(i.sizableOptions.width=i.size[0],i.sizableOptions.height=i.size[1]),i.ref=s.a.createRef(),i}return Object(j.a)(n,[{key:"onResizeStart",value:function(e){e.preventDefault()}},{key:"toggle",value:function(){this.setState({full:!this.state.full})}},{key:"getBaseActions",value:function(){var e=Object(d.a)(Object(d.a)({},this.props),{},{toggle:this.toggle,resizable:this.resizable,minimize:this.props.minimize});return e.actions=this.getExtraActions(e),e}},{key:"getExtraActions",value:function(e){return void 0!==e.data.actions?e.data.actions(e):[]}},{key:"getBaseWindow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getBaseActions();return Object(i.jsxs)("div",{className:"window",style:e.style,children:[Object(i.jsxs)("div",{className:"decorator",children:[Object(i.jsx)("span",{className:"title",children:e.data.title}),this.getExtraActions(e),!1===this.resizable?null:Object(i.jsx)("span",{className:"decorator_toggle nodrag",onClick:e.toggle}),Object(i.jsx)("span",{className:"decorator_close nodrag",onClick:e.onClose})]}),Object(i.jsx)("div",{className:"window_content",children:e.children})]})}},{key:"renderInnerWindow",value:function(){return void 0===this.props.decorator?this.getBaseWindow():this.props.decorator(this.getBaseActions())}},{key:"onStart",value:function(e){if(null!==e.target.closest(".nodrag"))return!1;this.props.setActive()}},{key:"render",value:function(){var e="react-draggable window_container";!0===this.state.full&&(e+=" fullscreen"),!0===this.props.active&&(e+=" window_active"),!0===this.props.minimized&&(e+=" window_minimized");var t=Object(d.a)({},this.sizableOptions);return void 0!==this.props.order&&(t.style.zIndex=this.props.order),Object(i.jsx)(O.a,{cancel:".react-resizable-handle, .nodrag",onStart:this.onStart,defaultClassName:e,bounds:void 0!==this.options.bounds?this.options.bounds:".dashboard",children:Object(i.jsx)(m.ResizableBox,Object(d.a)(Object(d.a)({},this.sizableOptions),{},{id:this.props.data.uuid,children:this.renderInnerWindow()}))})}}]),n}(s.a.Component)),w=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={windows:{},active:null},i.windowStyle={border:"1px solid #e1e1e1",height:"100%",width:"100%",background:"white",borderRadius:"2px"},i.onWindowClose=i.onWindowClose.bind(Object(p.a)(i)),i.externalActive=void 0!==i.props.active&&void 0!==i.props.setActive,i.minimize=i.minimize.bind(Object(p.a)(i)),i}return Object(j.a)(n,[{key:"onWindowClose",value:function(e){void 0!==this.props.onClose&&this.props.onClose(e)}},{key:"toggleActive",value:function(e){if(!0===this.externalActive)return this.props.setActive(e);this.setState({active:e})}},{key:"minimize",value:function(e){this.props.minimize(e)}},{key:"render",value:function(){var e=this,t=!0===this.externalActive?this.props.active:this.state.active;return Object(i.jsxs)("div",{className:"windows",children:[void 0!==this.props.dashboard?this.props.dashboard:null,Object.keys(this.props.windows).map((function(n){var o=e.props.windows[n],s=e.props.decorator;s=void 0===s?o.decorator:s;var r=void 0;return void 0!==e.props.order&&(r=e.props.order.indexOf(n)+1),Object(i.jsx)(x,{active:t===n,setActive:function(){return e.toggleActive(n)},data:Object(d.a)(Object(d.a)({},o),{},{uuid:n}),style:e.windowStyle,order:r,minimize:e.minimize,minimized:-1!==(e.props.minimized||[]).indexOf(n),onClose:function(){return e.onWindowClose(n)},decorator:s,children:o.component},n)}))]})}}]),n}(s.a.Component),f=n(420),v=n(421),g=n(417),z=n(422),C=n(424),y=function(){return Object(i.jsx)("h2",{children:"Installation"})},S=n(423),k=n(97),W=function(e){return Object(i.jsx)(S.a,{language:"javascript",style:k.a,className:"mycode",children:e.content})},N=new function e(){Object(l.a)(this,e),this.state={windows:{},order:[]},this.actions={setOrder:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{order:t})},setWindows:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{windows:t})}}},A=n(62),D={addWindows:function(e){return function(e,t,n){var i=t(),o=Object(d.a)({},i.windows),s=Object(A.a)(i.order),r=n.uuid;void 0===o[r]&&(o[r]=n),-1===s.indexOf(r)&&s.push(r),e("setOrder",s),e("setWindows",o)}},removeWindow:function(e){return function(e,t,n){var i=t(),o=Object(d.a)({},i.windows),s=Object(A.a)(i.order);void 0!==o[n]&&(delete o[n],delete o[n]);var r=s.indexOf(n);-1!==r&&s.splice(r,1),e("setOrder",s),e("setWindows",o)}}},R=Object(c.hocBuilder)({reduxers:[N],thunks:D,options:{bindAll:!0}}),B=n(21),M=n.n(B),I=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(M.a,{container:!0,md:600,lg:1e3,children:[Object(i.jsxs)(M.a,{xs:12,md:4,children:[Object(i.jsx)("h3",{children:"Create a custom Dashboard"}),Object(i.jsx)("p",{children:"Create a component filling the screen, with a button opening a window"})]}),Object(i.jsx)(M.a,{md:8,children:Object(i.jsx)(W,{content:"// ./containers/Dashboard\nimport React from 'react'\nimport hoc\xa0from './../hocs/main'\n\nclass Dashboard extends React.Component {\n\taddNewWindowBindThis() {\n\t\tconst windowData = {\n\t\t\tuuid: Date.now(),\n\t\t\ttitle: 'My Window',\n\t\t\tcomponent: <div>The content of my window</div>\n\t\t}\n\n\t\tthis.props.addWindow(windowData)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"dashboard\" style={{background: 'cyan', width:'100vw', height:'100vh'}}>\n\t\t\t\t<button onClick={this.addNewWindow}>New Window</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default hoc()(Dashboard)"})}),Object(i.jsxs)(M.a,{md:4,children:[Object(i.jsx)("h3",{children:"Implement the Main Container"}),Object(i.jsx)("p",{children:"Register your new dashboard inside your app"})]}),Object(i.jsx)(M.a,{md:8,children:Object(i.jsx)(W,{content:'// ./containers/Main\nimport React from "react"\n\nimport Windows from "./../Windows"\nimport Dashboard from "./Dashboard"\nimport hoc from "./../hocs/main"\n\nclass Main extends React.Component {\n    render() {\n        const dashboard = <Dashboard />\n\n        return (\n            <div className=\'App\'>\n                <Windows dashboard={dashboard} windows={{...this.props.windows}} onClose={this.props.removeWindow}/>\n            </div>\n        )\n    }\n}\n\nexport default hoc()(Main)'})}),Object(i.jsx)("p",{children:"Well now you can play with your new Dashboard !"})]})}}]),n}(s.a.Component),T=R()(I),_={openCreateDashboardBindThis:function(){var e={uuid:"start_dashboard",title:"Get Started : Create Dashboard",component:Object(i.jsx)(T,{}),center:!0,options:{size:[700,485],minSize:[300,100]}};this.props.addWindows(e)}},F=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)("p",{children:"In this exemple, the Reactizy library is used in order to increase productivity."}),Object(i.jsx)("h3",{children:"Reduxer creation"}),Object(i.jsxs)("p",{children:["Set the ",Object(i.jsx)("code",{children:"windows"})," state to list rendered windows."]}),Object(i.jsx)(W,{content:"// ./reduxers/main\nconst mainReduxer = new (class {\n    state = {\n        windows: {},\n    }\n\n    actions = {\n        setWindows: (state, windows) => ({...state, windows}),\n    }\n})()\n\nexport default mainReduxer"}),Object(i.jsx)("h3",{children:"Thunks creation"}),Object(i.jsx)("p",{children:"Set the actions to manage rendered windows."}),Object(i.jsx)(W,{content:'// ./thunks/main\nconst thunks = {\n    addWindows: windowData => (dispatch, getState, windowData) => {\n        let state = getState()\n        let windows = { ...state.windows }\n        const uuid = windowData.uuid\n\n        if (windows[uuid] === undefined) {\n            windows[uuid] = windowData\n        }\n\n        dispatch("setWindows", windows)\n    },\n    removeWindow: uuid => (dispatch, getState, uuid) => {\n        let state = getState()\n        let windows = { ...state.windows }\n\n        if (windows[uuid] !== undefined) {\n            windows[uuid] === undefined\n            delete windows[uuid]\n        }\n\n        dispatch("setWindows", windows)\n    },\n}    \n\nexport default thunks'}),Object(i.jsx)("h3",{children:"Hoc creation"}),Object(i.jsx)("p",{children:"Create the Reatizy hoc"}),Object(i.jsx)(W,{content:"// ./hocs/main\nimport { hocBuilder }\xa0from 'reactizy'\n\nimport mainReduxer from './../reduxers/main'\nimport thunks from './../thunks/main'\n\nconst hoc = hocBuilder({\n        reduxers: [mainReduxer],\n        thunks,\n        options: {\n                bindAll: true\n        }\n})\n\nexport default hoc"}),Object(i.jsx)("h3",{children:"Application Implemenation"}),Object(i.jsx)("p",{children:"Register the Reactizy hoc in your app"}),Object(i.jsx)(W,{content:'// ./App.js\nimport { Store } from "reactizy"\nimport Main from "./containers/Main" // At this point the Main Container is not created\nimport hoc from "./hocs/main"\n\nconst assetPrefix = "/react-windows-dashboard"\n\nfunction App() {\n    return (\n        <Store hocs={[hoc, true]}>\n            <Main />\n        </Store>\n    )\n}\n\nexport default App'}),Object(i.jsx)("p",{onClick:function(){return e.openCreateDashboard()},children:"Well the Dashboard can be create"})]})}}]),n}(s.a.Component),E=R()(F,_),P=function(){return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsxs)("p",{children:["Windows Decorator can be customized, one given in the main ",Object(i.jsx)("code",{children:"Windows"})," Component properties, second given in the window data object."]}),Object(i.jsx)("p",{children:"A decorator is a method with an object as argument"}),Object(i.jsx)(W,{content:"(props) => {\n\treturn (\n\t    <div className='window' style={props.style}>\n\t\t<div className='decorator'>\n\t\t    <span className='title'>{props.data.title}</span>\n\t\t    {props.resizable === false ? null : (\n\t\t\t<span className='decorator_toggle nodrag' onClick={props.toggle}></span>\n\t\t    )}\n\t\t    <span className='decorator_close nodrag' onClick={props.onClose}></span>\n\t\t</div>\n\t\t<div className='window_content'>{props.children}</div>\n\t    </div>\n\t)\n}"})]})},q=function(){return Object(i.jsxs)(M.a,{container:!0,md:1e3,className:"options",children:[Object(i.jsx)(M.a,{md:6,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Windows Options"}),Object(i.jsxs)("dl",{children:[Object(i.jsx)("dt",{children:"windows"}),Object(i.jsx)("dd",{children:"Object representing the windows uuid => windowData"}),Object(i.jsx)("dt",{children:"dashboard"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Component representing the customized dashboard"]}),Object(i.jsx)("dt",{children:"onClose"}),Object(i.jsx)("dd",{children:"function performing the close event (uuid) => "}),Object(i.jsx)("dt",{children:"active"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"uuid of the current windows"]}),Object(i.jsx)("dt",{children:"setActive"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"function performing the activation of focused window (uuid) => "]}),Object(i.jsx)("dt",{children:"minimize"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"function performing the minimizing event (uuid) => "]}),Object(i.jsx)("dt",{children:"order"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Array representing the order of windows [uuid, (...uuids)]"]}),Object(i.jsx)("dt",{children:"decorator"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"method rendering the windows decorator"]}),Object(i.jsx)("dt",{children:"minimized"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Array representing the minimized windows [uuid, (...uuids)]"]})]})]})}),Object(i.jsx)(M.a,{md:6,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Window Options"}),Object(i.jsxs)("dl",{children:[Object(i.jsx)("dt",{children:"uuid"}),Object(i.jsx)("dd",{children:"unique identifier"}),Object(i.jsx)("dt",{children:"title"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Title in the topbar"]}),Object(i.jsx)("dt",{children:"decorator"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"method rendering the decorator"]}),Object(i.jsx)("dt",{children:"center"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"render at center of the container"]}),Object(i.jsx)("dt",{children:"position"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"method returning the position as object ","{left: '10px', top:'10px'}"]}),Object(i.jsx)("dt",{children:"direction"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Array representing the resizable handler default ['se'] ('e'|'n'|'w'|'s'|'se'|'ne'|'nw'|'sw')"]}),Object(i.jsx)("dt",{children:"options"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," object",Object(i.jsxs)("dl",{children:[Object(i.jsx)("dt",{children:"resizable"}),Object(i.jsx)("dd",{children:"At false, the resizable behaviour is disabled"}),Object(i.jsx)("dt",{children:"size"}),Object(i.jsx)("dd",{children:"Array of integer representing the [width, height] in pixels"}),Object(i.jsx)("dt",{children:"minSize"}),Object(i.jsx)("dd",{children:"Array of integer representing the [width, height] in pixels"}),Object(i.jsx)("dt",{children:"bounds"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{children:' className="optional">optionnal'}),Object(i.jsx)("br",{})," query selector targeting the container bounds (default : '.dashboard')"]})]})]}),Object(i.jsx)("dt",{children:"actions"}),Object(i.jsxs)("dd",{children:[Object(i.jsx)("span",{className:"optional",children:"optional"})," ",Object(i.jsx)("br",{}),"Array representing extra actions to add in the topbar"]})]})]})})]})},G=function(){return Object(i.jsx)(o.Fragment,{children:Object(i.jsx)("p",{children:"Initial windows behaviour is to active only the focused window, and order others depending on the time of their rendering."})})},H=Object(d.a)(Object(d.a)({},_),{},{openInstallationBindThis:function(){var e={uuid:"installation",title:"Installation",component:Object(i.jsx)(y,{}),center:!0};this.props.addWindows(e)},openStartContextBindThis:function(){var e={uuid:"start_context",title:"Get Started : Create Context",component:Object(i.jsx)(E,{}),center:!0,options:{size:[700,485],minSize:[300,100]}};this.props.addWindows(e)},openOptionsBindThis:function(){var e={uuid:"options",title:"Components Options",component:Object(i.jsx)(q,{}),center:!0,options:{size:[600,300],minSize:[300,100]}};this.props.addWindows(e)},openDecoratorBindThis:function(){var e={uuid:"decorator",title:"Customize the windows decorator",component:Object(i.jsx)(P,{}),center:!0,options:{size:[712,475],minSize:[300,100]}};this.props.addWindows(e)},openOrderingBindThis:function(){var e={uuid:"ordering",title:"Managing the Windows (Order & Active)",component:Object(i.jsx)(G,{}),center:!0,options:{size:[712,475],minSize:[300,100]}};this.props.addWindows(e)}}),J=(n(387),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={menuStart:null,menuConfig:null,menuOverride:null},i}return Object(j.a)(n,[{key:"closeBindThis",value:function(e){this.setState({menuStart:null,menuConfig:null,menuOverride:null},(function(){return e()}))}},{key:"renderMenuStart",value:function(){var e=this;return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(g.a,{onClick:function(t){return e.setState({menuStart:t.target})},children:"Get Started"}),null===this.state.menuStart?null:Object(i.jsxs)(z.a,{anchorEl:this.state.menuStart,open:!0,onClose:function(){return e.setState({menuStart:null})},children:[Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openInstallation)},children:"Installation"}),Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openStartContext)},children:"Part 1 : Create Context"}),Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openCreateDashboard)},children:"Part 2 : Create Dashboard"})]})]})}},{key:"renderMenuConfig",value:function(){var e=this;return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(g.a,{onClick:function(t){return e.setState({menuConfig:t.target})},children:"Configuration"}),null===this.state.menuConfig?null:Object(i.jsx)(z.a,{anchorEl:this.state.menuConfig,open:!0,onClose:function(){return e.setState({menuConfig:null})},children:Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openOptions)},children:"Components Options"})})]})}},{key:"renderMenuOverride",value:function(){var e=this;return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(g.a,{onClick:function(t){return e.setState({menuOverride:t.target})},children:"Cook Book"}),null===this.state.menuOverride?null:Object(i.jsxs)(z.a,{anchorEl:this.state.menuOverride,open:!0,onClose:function(){return e.setState({menuOverride:null})},children:[Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openDecorator)},children:"Customize Windows Decorator"}),Object(i.jsx)(C.a,{onClick:function(){return e.close(e.openOrdering)},children:"Managing the Windows (Order & Active)"})]})]})}},{key:"render",value:function(){return Object(i.jsx)("div",{className:"dashboard",style:{backgroundImage:"url(/react-windows-dashboard/background.jpg)"},children:Object(i.jsx)(f.a,{position:"static",className:"topbar",children:Object(i.jsxs)(v.a,{variant:"dense",children:[Object(i.jsx)("div",{className:"logo",children:Object(i.jsx)("img",{src:"/react-windows-dashboard/logo.png",alt:"logo"})}),this.renderMenuStart(),this.renderMenuConfig(),this.renderMenuOverride()]})})})}}]),n}(s.a.Component)),L=R()(J,H),K=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=Object(i.jsx)(L,{});return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(w,{dashboard:e,windows:Object(d.a)({},this.props.windows),onClose:this.props.removeWindow})})}}]),n}(s.a.Component),Q=R()(K);var U=function(){return Object(i.jsx)(c.Store,{hocs:[R,!0],children:Object(i.jsx)(Q,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,426)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),o(e),s(e),r(e)}))};a.a.render(Object(i.jsx)(U,{}),document.getElementById("root")),V()}},[[388,1,2]]]);
//# sourceMappingURL=main.a61c34fd.chunk.js.map